//captures and stores the playerâ€™s chosen username using PlayerPrefs
//prevents empty input fields.
//connects to the game scene upon pressing the play button.
//improvements - add restricitons to the username OR autogenerated usernames.

using UnityEngine;
using UnityEngine.UI;
using UnityEngine.SceneManagement;
using TMPro;

public class UsernameMenuUI : MonoBehaviour
{
    public TMP_InputField usernameInput;
    public Button playButton;

    private void Start()
    {
        playButton.onClick.AddListener(OnPlayButtonPressed);
    }

    private void OnPlayButtonPressed()
    {
        string username = usernameInput.text;
        if (!string.IsNullOrEmpty(username))
        {
            PlayerPrefs.SetString("PlayerUsername", username);
            SceneManager.LoadScene("MainGame");
        }
        else
        {
            Debug.LogWarning("Username cannot be empty.");
        }
    }
}
